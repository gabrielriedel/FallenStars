create table
  public.mods_plan (
    id integer generated by default as identity,
    sku text not null,
    markup integer null,
    compatible text[] null,
    type text null,
    constraint mods_plan_pkey primary key (id)
  ) tablespace pg_default;

create table
  public.items_plan (
    id integer generated by default as identity,
    type text not null,
    price integer null,
    mod_id integer null,
    sku text null,
    constraint items_plan_pkey primary key (id),
    constraint public_items_plan_mod_id_fkey foreign key (mod_id) references mods_plan (id)
  ) tablespace pg_default;

create table
  public.items_ledger (
    id integer generated by default as identity,
    created_at timestamp with time zone not null default now(),
    qty_change integer null,
    item_id integer null,
    item_sku text null,
    credit_change integer null,
    constraint items_ledger_pkey primary key (id),
    constraint public_items_ledger_item_id_fkey foreign key (item_id) references items_plan (id)
  ) tablespace pg_default;


create table
  public.mods_ledger (
    id integer generated by default as identity,
    created_at timestamp with time zone not null default now(),
    qty_change integer null,
    mod_id integer null,
    mod_sku text null,
    credit_change integer null,
    constraint mods_ledger_pkey primary key (id),
    constraint public_mods_ledger_mod_id_fkey foreign key (mod_id) references mods_plan (id)
  ) tablespace pg_default;

create table
  public.customers (
    id integer generated by default as identity,
    created_at timestamp with time zone not null default now(),
    name text null,
    role text null,
    constraint customers_pkey primary key (id)
  ) tablespace pg_default;

INSERT INTO items_plan VALUES (1, 'weapon', 40, 0, 'GALACTIC_SPEAR')
INSERT INTO items_plan VALUES (2, 'weapon', 35, 0, 'RAINBOW_PISTOL')
INSERT INTO items_plan VALUES (3, 'weapon', 45, 0, 'MYTHIC_CROSSBOW')

INSERT INTO items_ledger VALUES (1, now(), 3, 1, 'GALACTIC_SPEAR', -90);
INSERT INTO items_ledger VALUES (2, now(), 4, 1, 'GALACTIC_SPEAR', -120);

INSERT INTO mods_plan VALUES (0, 'NONE', 0, ARRAY['weapon', 'armor', 'other'], NULL)

INSERT INTO items_ledger VALUES (3, now(), 10, 2, 'MYTHIC_CROSSBOW', -1000);

INSERT INTO mods_plan VALUES (1, 'FLAMING_BLADE', 20, ARRAY['weapon'], 'fire');
INSERT INTO mods_ledger VALUES (1, now(), 1, 1, 'FLAMING_BLADE', -10)

-- NOTE: this is just to give us some credits to work with 
INSERT INTO mods_ledger VALUES (2, now(), 0, 0, 'NONE', 2000)